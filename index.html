<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberHub | Digital Store</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700;800&display=swap" rel="stylesheet">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>(function(){ emailjs.init("aVLHyVhILMDCu8T99"); })();</script>
    <style>
        :root { --primary: #00a8ff; --bg: #020617; --card: rgba(15, 23, 42, 0.95); --border: rgba(255,255,255,0.1); --text: #ffffff; --sub: #94a3b8; --blend: screen; }
        body.light-mode { --bg: #f8fafc; --card: rgba(255, 255, 255, 0.9); --border: rgba(0,0,0,0.1); --text: #0f172a; --sub: #64748b; --blend: multiply; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: var(--bg); color: var(--text); margin: 0; padding-bottom: 100px; transition: 0.3s; overflow-x: hidden; }
        
        /* Fixed Background Particles - Dots Size Fixed */
        #particles-js { position: fixed; width: 100%; height: 100%; z-index: -1; top: 0; left: 0; pointer-events: all; }
        
        .container { max-width: 500px; margin: auto; padding: 20px; position: relative; z-index: 1; }
        .logo { width: 100px; height: 100px; border-radius: 50%; border: 2px solid var(--primary); margin-bottom: 10px; background: #000; display: block; margin: auto; }

        /* Modals */
        #welcome-modal { display:flex; position:fixed; inset:0; background:rgba(0,0,0,0.9); backdrop-filter:blur(10px); z-index:2000; justify-content:center; align-items:center; }
        
        /* Fixed Scrollable Policy */
        .modal-content { 
            background: var(--bg); 
            padding: 25px; 
            border-radius: 24px; 
            width: 90%; 
            max-width: 400px; 
            border: 1px solid var(--primary); 
            display: flex;
            flex-direction: column;
            max-height: 80vh; /* Limits height so it doesn't go off screen */
        }

        .policy-scroll-area {
            overflow-y: auto; 
            text-align: left; 
            padding-right: 10px;
            margin-bottom: 20px;
            flex-grow: 1;
        }

        /* Custom Scrollbar for Policy */
        .policy-scroll-area::-webkit-scrollbar { width: 5px; }
        .policy-scroll-area::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 10px; }

        .policy-text h4 { color: var(--primary); margin: 15px 0 5px 0; font-size: 1.1rem; }
        .policy-text p { color: var(--sub); line-height: 1.6; font-size: 0.9rem; margin-bottom: 10px; }

        .add-btn { background: var(--primary); color: white; border: none; padding: 15px; border-radius: 12px; font-weight: 800; cursor: pointer; transition: 0.3s; width: 100%; }
        .add-btn:disabled { background: #444; cursor: not-allowed; opacity: 0.5; }
    </style>
</head>
<body>

<div id="particles-js"></div>

<div class="container">
    <div class="header" style="text-align:center;">
        <img src="https://drive.google.com/thumbnail?id=139ftYKuLVxgpGLxvCbJE6hq0m9rPIUkm&sz=w400" class="logo">
        <h1 style="font-size: 1.5rem; letter-spacing: 2px;">CYBERHUB</h1>
    </div>
    <div id="content-area"></div>
</div>

<div id="welcome-modal">
    <div class="modal-content">
        <h3 style="color:var(--primary); margin-top:0; text-align: center;">Store Policy</h3>
        
        <div class="policy-scroll-area" id="policyScroll">
            <div class="policy-text">
                <h4>1. Services Digitaux</h4>
                <p>Toutes nos ventes sont des produits numériques. Une fois le service livré ou le compte activé, aucune demande de remboursement ne sera acceptée.</p>
                
                <h4>2. Livraison & Délais</h4>
                <p>Le délai de livraison standard est de 24h à 48h. Nous vous contacterons via le mode de communication choisi (WhatsApp/Instagram) pour finaliser l'accès.</p>
                
                <h4>3. Responsabilité</h4>
                <p>L'utilisateur est responsable de fournir des informations de contact valides. CyberHub n'est pas responsable en cas d'erreur de saisie du client.</p>
                
                <h4>4. Utilisation des Données</h4>
                <p>Vos données sont utilisées uniquement pour le traitement de la commande via nos outils d'automatisation (Zapier/EmailJS).</p>
                
                <p style="margin-top: 20px; font-weight: bold; color: var(--text); text-align: center;">Veuillez défiler jusqu'en bas pour accepter.</p>
            </div>
        </div>

        <button id="welcomeBtn" class="add-btn" onclick="closeWelcome()" disabled>Défilez pour accepter</button>
    </div>
</div>

<script>
    // 1. FIXED PARTICLES - Smaller Dots & Clean Lines
    particlesJS("particles-js", {
        "particles": {
            "number": { "value": 80, "density": { "enable": true, "value_area": 800 } },
            "color": { "value": "#00a8ff" },
            "opacity": { "value": 0.5 },
            "size": { "value": 2.5 }, // Smaller dots
            "line_linked": { "enable": true, "distance": 150, "color": "#00a8ff", "opacity": 0.3, "width": 1 },
            "move": { "enable": true, "speed": 1.5 }
        },
        "interactivity": {
            "detect_on": "canvas",
            "events": {
                "onhover": { "enable": true, "mode": "grab" },
                "onclick": { "enable": true, "mode": "bubble" }
            },
            "modes": {
                "grab": { "distance": 180, "line_linked": { "opacity": 0.8 } },
                "bubble": { "distance": 200, "size": 0, "opacity": 0, "duration": 1.5 }
            }
        }
    });

    // 2. SCROLL TO ACCEPT LOGIC
    const policyScroll = document.getElementById('policyScroll');
    const welcomeBtn = document.getElementById('welcomeBtn');

    policyScroll.addEventListener('scroll', function() {
        // Check if user reached the bottom (buffer of 10px)
        if (policyScroll.scrollHeight - policyScroll.scrollTop <= policyScroll.clientHeight + 10) {
            welcomeBtn.disabled = false;
            welcomeBtn.innerText = "J'accepte et Entrer";
        }
    });

    function closeWelcome() {
        document.getElementById('welcome-modal').style.display = 'none';
        // Your existing fetchData() call here
    }
</script>
</body>
</html>
